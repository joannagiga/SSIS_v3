{% extends "base.html" %}
{% block container1 %}
    <!-- NAVIGATION BAR -->
    <nav class="navbar navbar-expand-lg py-3 navbar-light bg-light">
      <a class="navbar-brand" href="/">STUDENT INFORMATION SYSTEM</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/student">STUDENT<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/course">COURSES</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/college">COLLEGES</a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- //NAVIGATION BAR -->

    <!-- CREATE STUDENT -->
    <div class="container">
      <form  method="post" action="/student/add">
        <h2>Create Student</h2>
        <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
        <div class="student-details">
          <div class="input-box">
            <label for="ID">ID Number:</label>
            <input type="text" id="ID" name="ID" placeholder="Enter ID Number" required>
          </div>
          <div class="input-box">
            <label class="details">Course Code</label>
            <select id="course_code" name="course_code" placeholder="Enter Course Code" required>
              <option value="" disabled selected>Enter Course Code</option>
              {% for course in courses %}
                <option value="{{course.course_code}}">{{course.course_code}}</option>
              {% endfor %}  
            </select>  
          </div>
          <div class="input-box">
            <label for="first_name">First Name:</label>
            <input type="text" id="first_name" name="first_name" placeholder="Enter First Name" required>
          </div>
          <div class="input-box">
            <label for="year_level">Year Level:</label>
            <input type="text" id="year_level" name="year_level" placeholder="Enter Year Level" required>
          </div>
          <div class="input-box">
            <label for="last_name">Last Name:</label>
            <input type="text" id="last_name" name="last_name" placeholder="Enter Last Name" required>
          </div>
          <label class="gender-title">Gender</label>
          <div class="gender-category">
            <input type="text" id="gender" name="gender" placeholder="Enter Gender" required>
          </div>
          <button type="submit" class="submit-button">SUBMIT</button>
        </div>
      </form>
    </div>
    <!-- //CREATE STUDENT -->

    <!-- SEARCH BAR -->
    <form method="POST" action="/student/search">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <div class="input-group col-md-10 mx-auto text-center">
        <input type="text" class="form-control rounded" name = "studentsearch" placeholder="Search Student">
        <div class="input-group-append">
            <button class="btn btn-outline-primary" type="submit">Search</button>
        </div>
      </div>
    </form>

    <!-- TABLE -->
    <table class="table col-md-10 mx-auto text-center">
      <thead class="thead-light">
        <tr>
          <th scope="col">ID Number</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Gender</th>
          <th scope="col">Year Level</th>
          <th scope="col">Course</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
        <tr>
          <td>{{student.ID}}</td>
          <td>{{student.first_name}}</td>
          <td>{{student.last_name}}</td>
          <td>{{student.gender}}</td>
          <td>{{student.course_code}}</td>
          <td>{{student.year_level}}</td>
          <td>
            <form action="/student/edit" method="get">
              <input type="hidden" name="student_id" value="{{ student.ID }}">
              <input type="hidden" name="first_name" value="{{ student.first_name }}">
              <input type="hidden" name="last_name" value="{{ student.last_name }}">
              <input type="hidden" name="gender" value="{{ student.gender }}">
              <input type="hidden" name="course_code" value="{{ student.course_code }}">
              <input type="hidden" name="year_level" value="{{ student.year_level }}">
              <button type="submit" class="btn btn-success"><i class="fas fa-edit"></i>Edit</button>
            </form>
            <button type="button" class="btn btn-danger" id="deleteStudent" student-id="{{student.ID}}" 
            csrf-token="{{csrf_token()}}" onclick="deleteStudent(this)"><i class="far fa-trash-alt"></i>Delete</button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <!--//TABLE -->
{% endblock %}
